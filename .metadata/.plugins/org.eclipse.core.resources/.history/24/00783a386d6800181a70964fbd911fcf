package step3;

import javax.swing.JOptionPane;
public class GradeReport {
	public static int getTotal(String[] scores) {
		return Integer.parseInt(scores[1])+Integer.parseInt(scores[2])+Integer.parseInt(scores[3]);
	}
	public static int getAve(String[] scores) {
		return (Integer.parseInt(scores[1])+Integer.parseInt(scores[2])+Integer.parseInt(scores[3]))/3;
	}
	public static String getGrade(int getAve) {
		String grd = "";
		switch(getAve/10) {
		 case 10 : case 9 : grd = "A"; break;
		 case 8 : grd="B"; break;
		 case 7 : grd="C"; break;
		 case 6 : grd="D"; break;
		 case 5 : grd="E"; break;
		 default : grd="F"; break;
		}
		return grd;
	}
	public static void main(String[] args) {
		int count = 0;
		String result = "| 이름 | 국어 | 영어 | 수학 | 총점 | 평균 | 학점 |\n";   
		int[] totals = new int[15];
		String[] std = new String[15];
		while(true) {	
		String menu = JOptionPane.showInputDialog("0.종료 1.성적입력 2.전체보기 3.순위");
		switch(menu) {
		case "0" : return;
		case "1" : 
			count++;
			String score = JOptionPane.showInputDialog("이름/국어/영어/수학");
			String[] scores = score.split("/");
			std[count] = scores[0] + " | " + scores[1] + " | " + scores[2] + " | " + scores[3] + " | " + String.valueOf(getTotal(scores))+ " | "  + getAve(scores) + " | " + getGrade(getAve(scores)) + "\n";
			totals[count] = getTotal(scores);
			result += scores[0] + " | " + scores[1] + " | " + scores[2] + " | " + scores[3] + " | " + String.valueOf(getTotal(scores))+ " | "  + getAve(scores) + " | " + getGrade(getAve(scores)) + "\n";
			break;
		case "2" : JOptionPane.showMessageDialog(null, result);
			break;
		case "3" : 
					for(int i=0;i<=count;i++){
						for(int a=1;a<=count-1;a++) {
							if(totals[i]<totals[a]) {
								int temp = totals[i];
								totals[i] = totals[a];
								totals[a] = temp;
								String temp2 = std[i];
								std[i] = std[a];
								std[a] = temp2;
							}
						}
					}
					JOptionPane.showMessageDialog(null, std[1]+"\n"+std[2]+"\n"+std[3]+"\n"+std[4]+"\n"+std[5]+"\n");
			break;
		default : 
			return;
		}
		}
	}

}
